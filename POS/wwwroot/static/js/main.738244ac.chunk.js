(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{261:function(e,t){},5473:function(e,t,a){e.exports=a(5756)},5478:function(e,t,a){},5744:function(e,t){},5750:function(e,t){},5753:function(e,t,a){},5754:function(e,t,a){},5756:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(27),c=a.n(r),o=(a(5478),a(18)),l=a(24),s=a(23),u=a(20),p=a(22),d=a(5758),h=a(5760),m=a(52),f=a(15),b=a(36),y=a(3),g=a(30),E=a(26),O="http://localhost:5000/",v=a(17),j=a.n(v),S=a(5759),C=a(70),w=function(e){return e+"_"+C.c},T=function(e){return e+"_"+C.a},k={items:[],selectedReceiptItem:null,selectedReceiptItemQuantity:1,receiptTotal:"0 z\u0142",isLoading:!1,canCancelReceipt:!1,canRemoveItem:!1,canChangeQuantity:!1,canPay:!1,id:0,isCancelled:!1,isClosed:!1,isOpen:!1,showQuantityDialog:!1,showReceiptCancelDialog:!1},G="receipt/ADD_ITEM",R="receipt/CREATERECEIPT_SUBMIT",P="receipt/GETCURRENTRECEIPT",I="receipt/REMOVE_ITEM",D="receipt/DELETERECEIPT_SUBMIT",N="receipt/DELETERECEIPT_SHOW",x="receipt/CHANGEQUANTITY_SUBMIT",A="receipt/CHANGEQUANTITY_SHOW",z="receipt/SELECTRECEIPTITEM",L="receipt/CHANGEQUANTITY_CANCEL",W="receipt/DELETERECEIPT_CANCEL",F="receipt/RESET",q=Object(S.a)(W),B=Object(S.a)(N),_=Object(S.a)(A),Q=Object(S.a)(L),H=Object(S.a)(z,function(e){return e}),U=(Object(S.a)(R,function(){return j.a.post(O+"api/receipt")}),Object(S.a)(P,function(){return j.a.get(O+"api/receipt")})),M=Object(S.a)(I,function(e,t){return j.a.delete(O+"api/receipt/"+e+"/"+t)}),K=function(e){return function(t,a){t(a().product.products.findIndex(function(t){return t.ean==e})>-1?{type:G,payload:j.a.post(O+"api/receipt/"+e)}:{type:"products/SHOW_PRODUCTS_DIALOG"})}},V=Object(S.a)(D,function(e){return j.a.delete(O+"api/receipt/"+e)}),Z=Object(S.a)(x,function(e,t){return j.a.post(O+"api/receipt/change",{id:e,quantity:t})}),Y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).el=Object(n.createRef)(),a.state={selectedId:a.props.rows.length||null},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){e!==this.props&&(this.props.rows&&this.props.rows.length>0?this.setState({selectedId:this.props.rows.length}):this.setState({selectedId:null}))}},{key:"componentDidMount",value:function(){this.el&&this.el.current&&this.el.current.scrollIntoView()}},{key:"componentDidUpdate",value:function(){this.el&&this.el.current&&this.el.current.scrollIntoView()}},{key:"selectRow",value:function(e){var t=this;return function(a){t.props.selectReceiptItem(e)}}},{key:"render",value:function(){var e=this,t=this.props,a=t.rows,n=t.classes||{};return i.a.createElement("div",null,i.a.createElement(y.Table,{className:n.table},i.a.createElement(y.TableHead,null,i.a.createElement(y.TableRow,null,i.a.createElement(y.TableCell,{className:n.headerCell},"Lp."),i.a.createElement(y.TableCell,{className:n.headerCell},"EAN"),i.a.createElement(y.TableCell,{className:n.headerCell},"Nazwa"),i.a.createElement(y.TableCell,{className:n.headerCell},"Ilo\u015b\u0107"),i.a.createElement(y.TableCell,{className:n.headerCell},"Jm"),i.a.createElement(y.TableCell,{className:n.headerCell},"Cena"),i.a.createElement(y.TableCell,{className:n.headerCell},"Warto\u015b\u0107"))),i.a.createElement(y.TableBody,null,a&&a.map(function(t){return i.a.createElement(y.TableRow,{key:t.id,hover:!0,onClick:e.selectRow(t.id).bind(e),selected:e.props.selectedReceiptItem==t.id},i.a.createElement(y.TableCell,{className:n.cell},t.ordinalNumber+"."),i.a.createElement(y.TableCell,{className:n.cell,component:"th",scope:"row"},t.ean),i.a.createElement(y.TableCell,{className:n.cell},t.name),i.a.createElement(y.TableCell,{className:n.cell},t.quantity),i.a.createElement(y.TableCell,{className:n.cell},t.unit),i.a.createElement(y.TableCell,{className:n.cell},t.price),i.a.createElement(y.TableCell,{className:n.cell},t.value))}))),i.a.createElement("div",{ref:this.el}))}}]),t}(i.a.Component),J={selectReceiptItem:H},$=Object(g.a)(Object(b.withStyles)(function(e){return Object(b.createStyles)({table:{paddingLeft:e.spacing.unit,paddingRight:e.spacing.unit},cell:{fontSize:"1rem"},headerCell:{fontSize:"1rem",position:"sticky",top:0,zIndex:10,backgroundColor:"white"}})}),Object(E.b)(function(e){return{selectedReceiptItem:e.receipt.selectedReceiptItem}},J))(Y),X=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement(y.List,null,i.a.createElement(y.ListItem,null,i.a.createElement(y.Grid,{container:!0},i.a.createElement(y.Grid,{item:!0,md:6},i.a.createElement(y.Typography,{variant:"h6"},"Suma")),i.a.createElement(y.Grid,{item:!0,md:6},i.a.createElement(y.Typography,{variant:"h2"},this.props.receiptTotal)))))}}]),t}(i.a.Component),ee=Object(b.withStyles)(function(e){return Object(b.createStyles)({})})(X),te=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={selectedEan:""},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes||{};return i.a.createElement(y.Grid,{container:!0},i.a.createElement(y.Grid,{item:!0,className:e.detailsGrid,md:9},i.a.createElement($,{rows:this.props.items})),i.a.createElement(y.Grid,{item:!0,md:3,className:e.summaryGrid},i.a.createElement(ee,{receiptTotal:this.props.receiptTotal})))}}]),t}(i.a.Component),ae=Object(g.a)(Object(b.withStyles)(function(e){return Object(b.createStyles)({summaryGrid:{borderLeft:"1px solid lightgray"},detailsGrid:{padding:1*e.spacing.unit,minHeight:"500px",maxHeight:"500px",overflowY:"scroll",backgroundColor:"white"}})}),Object(E.b)(function(e){return Object(f.a)({},e.receipt)},{}))(te),ne=a(55),ie=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(y.Grid,{item:!0,md:2},i.a.createElement(y.Button,{fullWidth:!0,variant:"outlined",size:"large",className:e.button,onClick:this.props.onClick,disabled:this.props.disabled},i.a.createElement(y.Grid,{container:!0},i.a.createElement(y.Grid,{item:!0,md:12},this.props.children),i.a.createElement(y.Grid,{item:!0,md:12},this.props.text))))}}]),t}(i.a.Component),re=Object(b.withStyles)(function(e){return Object(b.createStyles)({button:{height:14*e.spacing.unit,marginTop:2*e.spacing.unit,marginBottom:2*e.spacing.unit}})})(ie),ce={endMoney:0,startMoney:0,startDeposit:0,numberOfReceipts:0,cancelledReceiptsCount:0,removedItemsCount:0,sales:0,isCreated:!1,isOpen:!1,isLoading:!1,showStartShift:!1,showEndShift:!1,showDialog:!1,canOpenShift:!0,canCloseShift:!1,id:0},oe="shift/STARTSHIFT_SHOW",le="shift/GETCURRENTSHIFT",se="shift/CLOSESHIFT_SHOW",ue="shift/CLOSESHIFT_CANCEL",pe="shift/CLOSESHIFT_SUBMIT",de="shift/STARTSHIFT_SUBMIT",he="shfit/STARTSHIFT_CANCEL",me="shift/STARTSHIFTEXISTING_SHOW",fe=Object(S.a)(oe,function(){return j.a.post(O+"api/shift")}),be=Object(S.a)(le,function(){return j.a.get(O+"api/shift")}),ye=Object(S.a)(de,function(e,t){return j.a.post(O+"api/shift/start",{shiftId:e,depositAmount:t})}),ge=Object(S.a)(he),Ee=Object(S.a)(se),Oe=Object(S.a)(ue),ve=Object(S.a)(pe,function(){return j.a.post(O+"api/shift/close")}),je=Object(S.a)(me),Se=a(267),Ce=a(19),we="http://localhost:5000".replace(/\/+$/,""),Te=function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:we,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:j.a;Object(o.a)(this,e),this.basePath=a,this.axios=n,this.configuration=void 0,t&&(this.configuration=t,this.basePath=t.basePath||this.basePath)},ke=function(e){function t(e,a){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,a))).field=e,n.name="RequiredError",n}return Object(p.a)(t,e),t}(Object(Se.a)(Error)),Ge=function(e){return{productGetAll:function(){var t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Ce.parse("/api/Product",!0);e&&(t=e.baseOptions);var i=Object.assign({method:"GET"},t,a);return n.query=Object.assign({},n.query,{},a.query),delete n.search,i.headers=Object.assign({},{},a.headers),{url:Ce.format(n),options:i}},productGetProduct:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===t||void 0===t)throw new ke("eanCode","Required parameter eanCode was null or undefined when calling productGetProduct.");var n,i="/api/Product/ean/{eanCode}".replace("{".concat("eanCode","}"),encodeURIComponent(String(t))),r=Ce.parse(i,!0);e&&(n=e.baseOptions);var c=Object.assign({method:"GET"},n,a);return r.query=Object.assign({},r.query,{},a.query),delete r.search,c.headers=Object.assign({},{},a.headers),{url:Ce.format(r),options:c}},productGetProduct2:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===t||void 0===t)throw new ke("productId","Required parameter productId was null or undefined when calling productGetProduct2.");var n,i="/api/Product/{productId}".replace("{".concat("productId","}"),encodeURIComponent(String(t))),r=Ce.parse(i,!0);e&&(n=e.baseOptions);var c=Object.assign({method:"GET"},n,a);return r.query=Object.assign({},r.query,{},a.query),delete r.search,c.headers=Object.assign({},{},a.headers),{url:Ce.format(r),options:c}},productSearchProduct:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===t||void 0===t)throw new ke("eanCode","Required parameter eanCode was null or undefined when calling productSearchProduct.");var n,i="/api/Product/ean/search/{eanCode}".replace("{".concat("eanCode","}"),encodeURIComponent(String(t))),r=Ce.parse(i,!0);e&&(n=e.baseOptions);var c=Object.assign({method:"GET"},n,a);return r.query=Object.assign({},r.query,{},a.query),delete r.search,c.headers=Object.assign({},{},a.headers),{url:Ce.format(r),options:c}}}},Re=function(e){return{productGetAll:function(t){var a=Ge(e).productGetAll(t);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j.a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:we,n=Object.assign(a.options,{url:t+a.url});return e.request(n)}},productGetProduct:function(t,a){var n=Ge(e).productGetProduct(t,a);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j.a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:we,a=Object.assign(n.options,{url:t+n.url});return e.request(a)}},productGetProduct2:function(t,a){var n=Ge(e).productGetProduct2(t,a);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j.a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:we,a=Object.assign(n.options,{url:t+n.url});return e.request(a)}},productSearchProduct:function(t,a){var n=Ge(e).productSearchProduct(t,a);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j.a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:we,a=Object.assign(n.options,{url:t+n.url});return e.request(a)}}}},Pe=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"productGetAll",value:function(e){return Re(this.configuration).productGetAll(e)(this.axios,this.basePath)}},{key:"productGetProduct",value:function(e,t){return Re(this.configuration).productGetProduct(e,t)(this.axios,this.basePath)}},{key:"productGetProduct2",value:function(e,t){return Re(this.configuration).productGetProduct2(e,t)(this.axios,this.basePath)}},{key:"productSearchProduct",value:function(e,t){return Re(this.configuration).productSearchProduct(e,t)(this.axios,this.basePath)}}]),t}(Te),Ie=(new Pe({}),{products:[],showProductDialog:!1,isLoading:!1,errorMessage:"",selectedProduct:"",canSearchProduct:!0}),De="products/FETCH_PRODUCTS",Ne="products/SHOW_PRODUCTS_DIALOG",xe="products/PICK_PRODUCT",Ae="products/CLOSE_PRODUCTS_DIALOG",ze=Object(S.a)(De,function(){return j.a.get(O+"api/product")}),Le=Object(S.a)(Ae),We=Object(S.a)(Ne),Fe=a(260),qe=a.n(Fe),Be={eanValue:""},_e=[{name:"ean",label:"EAN",options:{filter:!0,sort:!0}},{name:"name",label:"Nazwa",options:{filter:!0,sort:!0}},{name:"price",label:"Cena",options:{filter:!1,sort:!1}},{name:"tax",label:"VAT",options:{filter:!1,sort:!1}},{name:"unit",label:"Jm",options:{filter:!1,sort:!1}}],Qe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).props.productFetch(),a.state=Be,a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"handleTextChange",value:function(e){this.setState({eanValue:e.target.value})}},{key:"handleCancel",value:function(e){this.props.productDialogClose()}},{key:"handleSubmit",value:function(e){this.state.eanValue&&""!=this.state.eanValue&&(this.props.addItemToReceipt(this.state.eanValue),this.props.productDialogClose(),this.setState({eanValue:""}))}},{key:"handleRowClick",value:function(e,t){this.setState({eanValue:e[0]})}},{key:"options",value:function(){return{filterType:"checkbox",responsive:"scroll",download:!1,print:!1,filter:!1,sort:!1,selectableRows:!1,onRowClick:this.handleRowClick.bind(this),elevation:0}}},{key:"render",value:function(){var e=this,t=this.props.classes||{};return i.a.createElement(y.Dialog,{open:this.props.showProductDialog,maxWidth:"xl"},i.a.createElement(y.DialogTitle,{id:"form-dialog-title"},"Wybierz produkt"),i.a.createElement(y.DialogContent,{className:t.dialog},i.a.createElement(y.Grid,{container:!0,className:t.grid,spacing:8},i.a.createElement(y.Grid,{item:!0,md:8},i.a.createElement(y.TextField,{autoFocus:!0,margin:"dense",id:"amount",onChange:function(t){return e.handleTextChange(t)},value:this.state.eanValue,label:"EAN",type:"text",fullWidth:!0})),i.a.createElement(y.Grid,{item:!0,md:2},i.a.createElement(y.Button,{color:"primary",size:"large",variant:"contained",fullWidth:!0,onClick:function(t){return e.handleSubmit(t)},disabled:this.state&&""===this.state.eanValue},"Zatwierd\u017a")),i.a.createElement(y.Grid,{item:!0,md:2},i.a.createElement(y.Button,{color:"secondary",size:"large",variant:"contained",fullWidth:!0,onClick:function(t){return e.handleCancel(t)}},"Anuluj"))),i.a.createElement(qe.a,{title:"",data:this.props.products.map(function(e){return[e.ean,e.name,e.price,e.tax,e.unit]}),columns:_e,options:this.options()})))}}]),t}(i.a.Component),He={productFetch:ze,productDialogClose:Le,addItemToReceipt:K},Ue=Object(g.a)(Object(b.withStyles)(function(e){return Object(b.createStyles)({dialog:{minWidth:1e3},grid:{marginBottom:2*e.spacing.unit}})}),Object(E.b)(function(e){return Object(f.a)({},e.product)},He))(Qe),Me=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={quantity:1},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"handleTextChange",value:function(e){var t=Number(e.target.value);isNaN(t)||this.setState({quantity:t})}},{key:"handleCancel",value:function(e){this.props.changeQuantityCancel()}},{key:"handleSubmit",value:function(e){this.props.changeQuantitySubmit(this.props.selectedReceiptItem||1,this.state.quantity)}},{key:"handleFocus",value:function(e){e.target.select()}},{key:"componentWillReceiveProps",value:function(e){e.selectedReceiptItemQuantity!==this.props.selectedReceiptItemQuantity&&this.setState({quantity:e.selectedReceiptItemQuantity})}},{key:"handleEnterKey",value:function(e){"Enter"===e.key?(e.preventDefault(),this.handleSubmit()):"Escape"===e.key&&(e.preventDefault(),this.handleCancel())}},{key:"render",value:function(){var e=this,t=this.props.classes||{};return i.a.createElement(y.Dialog,{open:this.props.showQuantityDialog,maxWidth:!1},i.a.createElement(y.DialogTitle,{id:"form-dialog-title"},"Podaj ilo\u015b\u0107"),i.a.createElement(y.DialogContent,null,i.a.createElement(y.Grid,{container:!0,className:t.grid,spacing:8},i.a.createElement(y.Grid,{item:!0,md:6},i.a.createElement(y.TextField,{InputProps:{className:t.inputField},autoFocus:!0,margin:"dense",id:"amount",onKeyDown:function(t){return e.handleEnterKey(t)},onChange:function(t){return e.handleTextChange(t)},onFocus:function(t){return e.handleFocus(t)},value:this.state.quantity,type:"number",fullWidth:!0})),i.a.createElement(y.Grid,{item:!0,md:3},i.a.createElement(y.Button,{color:"primary",size:"large",variant:"contained",fullWidth:!0,onClick:function(t){return e.handleSubmit(t)},disabled:this.state.quantity<=0},"Zatwierd\u017a")),i.a.createElement(y.Grid,{item:!0,md:3},i.a.createElement(y.Button,{color:"secondary",size:"large",variant:"contained",fullWidth:!0,onClick:function(t){return e.handleCancel(t)}},"Anuluj")))))}}]),t}(i.a.Component),Ke={changeQuantityCancel:Q,changeQuantitySubmit:Z},Ve=Object(g.a)(Object(b.withStyles)(function(e){return Object(b.createStyles)({dialog:{minWidth:500},grid:{marginBottom:2*e.spacing.unit},inputField:{fontSize:e.typography.h4.fontSize}})}),Object(E.b)(function(e){return Object(f.a)({},e.receipt)},Ke))(Me),Ze=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={quantity:1},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"handleTextChange",value:function(e){var t=Number(e.target.value);isNaN(t)||this.setState({quantity:t})}},{key:"handleCancel",value:function(e){this.props.deleteReceiptCancel()}},{key:"handleSubmit",value:function(e){this.props.deleteReceiptSubmit(this.props.id)}},{key:"handleFocus",value:function(e){e.target.select()}},{key:"handleEnterKey",value:function(e){"Enter"===e.key?(e.preventDefault(),this.handleSubmit()):"Escape"===e.key&&(e.preventDefault(),this.handleCancel())}},{key:"render",value:function(){var e=this,t=this.props.classes||{};return i.a.createElement(y.Dialog,{open:this.props.showReceiptCancelDialog,maxWidth:!1},i.a.createElement(y.DialogContent,null,i.a.createElement(y.Grid,{container:!0,className:t.grid},i.a.createElement(y.Typography,{variant:"h4"},"Czy na pewno usun\u0105\u0107 paragon?")),i.a.createElement(y.Grid,{container:!0,spacing:32},i.a.createElement(y.Grid,{item:!0,md:6},i.a.createElement(y.Button,{color:"primary",size:"large",variant:"contained",fullWidth:!0,onClick:function(t){return e.handleSubmit(t)},disabled:this.state.quantity<=0},"Tak")),i.a.createElement(y.Grid,{item:!0,md:6},i.a.createElement(y.Button,{color:"primary",size:"large",variant:"contained",fullWidth:!0,onClick:function(t){return e.handleCancel(t)}},"Nie")))))}}]),t}(i.a.Component),Ye={deleteReceiptSubmit:V,deleteReceiptCancel:q},Je=Object(g.a)(Object(b.withStyles)(function(e){return Object(b.createStyles)({dialog:{minWidth:500},grid:{marginBottom:2*e.spacing.unit},inputField:{fontSize:e.typography.h4.fontSize}})}),Object(E.b)(function(e){return Object(f.a)({},e.receipt)},Ye))(Ze),$e={showPayDialog:!1,amount:0,amountPayed:0,change:0,isLoading:!1,canPay:!1,id:0},Xe="payment/PAYDIALOG_SHOW",et="payment/PAYDIALOG_CANCEL",tt="payment/PAYDIALOG_SUBMIT",at=Object(S.a)(Xe,function(e){return j.a.post(O+"api/payment")}),nt=Object(S.a)(et),it=a(102);function rt(e){return i.a.createElement(y.Slide,Object.assign({direction:"up"},e))}var ct=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={amount:0},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.receiptTotal===this.props.receiptTotal&&e.amount===this.props.amount||this.setState({amountString:e.receiptTotal,amount:e.amount})}},{key:"render",value:function(){var e=this,t=this.props.classes||{},a=this.state&&this.state.amount?Number(this.state.amount):0;return i.a.createElement(y.Dialog,{open:this.props.showPayDialog,TransitionComponent:rt,maxWidth:"xl"},i.a.createElement(y.DialogTitle,{id:"form-dialog-title"},"P\u0142atno\u015b\u0107"),i.a.createElement(y.DialogContent,{className:t.paper},i.a.createElement(y.Grid,{container:!0},i.a.createElement(y.Grid,{item:!0,md:3},i.a.createElement(y.Typography,{variant:"h4"},"Do zap\u0142aty: ")),i.a.createElement(y.Grid,{item:!0,md:9},i.a.createElement(y.Typography,{variant:"h3"},this.props.receiptTotal))),i.a.createElement(y.Grid,{container:!0},i.a.createElement(y.Grid,{item:!0,md:3},i.a.createElement(y.Typography,{variant:"h4"},"Wp\u0142ata:")),i.a.createElement(y.Grid,{item:!0,md:9},i.a.createElement(y.TextField,{autoFocus:!0,margin:"dense",id:"amount",label:"Kwota wp\u0142aty",type:"number",value:this.state.amount,onFocus:function(t){return e.handleFocus(t)},onKeyPress:function(t){return e.handleKeys(t)},onChange:function(t){return e.handleChange(t)}}))),i.a.createElement(y.Grid,{container:!0},i.a.createElement(y.Grid,{item:!0,md:3},i.a.createElement(y.Typography,{variant:"h4"},"Reszta: ")),i.a.createElement(y.Grid,{item:!0,md:9},i.a.createElement(y.Typography,{variant:"h4"},i.a.createElement(it.a,{value:a<this.props.amount?0:a-this.props.amount,style:"currency",currency:"PLN"})))),i.a.createElement(y.Grid,{container:!0},i.a.createElement(y.Grid,{item:!0,md:6},i.a.createElement(y.Button,{color:"primary",size:"large",variant:"contained",disabled:a<this.props.amount,onClick:function(t){return e.handleSubmit(t)}},"Zatwierd\u017a")),i.a.createElement(y.Grid,{item:!0,md:6},i.a.createElement(y.Button,{color:"secondary",size:"large",variant:"contained",onClick:function(t){return e.handleCancel(t)}},"Anuluj")))))}},{key:"handleCancel",value:function(e){this.props.payCancelDialog()}},{key:"handleSubmit",value:function(e){this.props.paySubmit(this.props.id,this.state.amount)}},{key:"handleChange",value:function(e){this.setState({amount:e.target.value})}},{key:"handleKeys",value:function(e){"Enter"===e.key?(e.preventDefault(),this.handleSubmit()):"Escape"===e.key&&(e.preventDefault(),this.handleCancel())}},{key:"handleFocus",value:function(e){e.target.select()}}]),t}(i.a.Component),ot={paySubmit:function(e,t){return function(a,n){j.a.post(O+"api/payment/pay",{paymentId:e,amount:t}).then(function(e){a({type:"receipt/RESET"}),a({type:T(tt)})})}},payCancelDialog:nt},lt=Object(g.a)(Object(b.withStyles)(function(e){return Object(b.createStyles)({paper:{minWidth:900}})}),Object(E.b)(function(e){return Object(f.a)({},e.payment,{receiptTotal:e.receipt.receiptTotal})},ot))(ct),st=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleProductList=function(e){a.props.productDialogShow()},a.handleChangeQuantity=function(e){a.props.changeQuantityShow()},a.handlePay=function(e){a.props.payShowDialog(a.props.receipt.id)},a.handleRemoveReceiptItem=function(e){a.props.removeItemFromReceipt(a.props.receipt.id,a.props.receipt.selectedReceiptItem||1)},a.handleCancelRecceipt=function(e){a.props.deleteReceiptShow()},a.handleCloseShift=function(e){a.props.endShiftShow()},a.handleOpenShift=function(e){a.props.shift.isCreated?a.props.startShiftExistingShow():a.props.startShiftShow()},a.props.getCurrentShift(),a.props.getCurrentReceipt(),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.shift;return t=t||{},i.a.createElement(y.Grid,{container:!0,spacing:8,className:t.mainGrid},i.a.createElement(re,{text:"Znajd\u017a produkt",disabled:!a.isOpen,onClick:this.handleProductList},i.a.createElement(ne.f,{className:t.icon})),i.a.createElement(re,{text:"Zmie\u0144 ilo\u015b\u0107",disabled:!this.props.canChangeQuantity,onClick:this.handleChangeQuantity},i.a.createElement(ne.d,{className:t.icon})),i.a.createElement(re,{text:"Zap\u0142ata",disabled:!this.props.canPay,onClick:this.handlePay},i.a.createElement(ne.b,{className:t.icon})),i.a.createElement(re,{text:"Usu\u0144 pozycj\u0119",disabled:!this.props.canRemoveItem,onClick:this.handleRemoveReceiptItem},i.a.createElement(ne.e,{className:t.icon})),i.a.createElement(re,{text:"Anuluj paragon",disabled:!this.props.canCancelReceipt,onClick:this.handleCancelRecceipt},i.a.createElement(ne.a,{className:t.icon})),i.a.createElement(re,{text:a.isOpen?"Zamknij zmian\u0119":"Otw\xf3rz zmian\u0119",disabled:a.isOpen?!a.canCloseShift:!a.canOpenShift,onClick:a.isOpen?this.handleCloseShift:this.handleOpenShift},i.a.createElement(ne.c,{className:t.icon})),i.a.createElement(Ue,null),i.a.createElement(Ve,null),i.a.createElement(Je,null),i.a.createElement(lt,null))}}]),t}(i.a.Component),ut={payShowDialog:at,productDialogShow:We,deleteReceiptShow:B,changeQuantityShow:_,endShiftShow:Ee,startShiftShow:fe,getCurrentShift:be,startShiftExistingShow:je,removeItemFromReceipt:M,getCurrentReceipt:U},pt=Object(g.a)(Object(b.withStyles)(function(e){return Object(b.createStyles)({mainGrid:{paddingLeft:e.spacing.unit,paddingRight:e.spacing.unit},icon:{marginRight:e.spacing.unit,fontSize:54}})}),Object(E.b)(function(e){return{shift:e.shift,receipt:e.receipt,canSearchProduct:e.product.canSearchProduct,canChangeQuantity:e.receipt.canChangeQuantity,canPay:e.receipt.canPay,canRemoveItem:e.receipt.canRemoveItem,canCancelReceipt:e.receipt.canCancelReceipt}},ut))(st),dt=a(263),ht=a.n(dt);function mt(e){return i.a.createElement(y.Slide,Object.assign({direction:"up"},e))}var ft=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={amount:""},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes||{};return i.a.createElement("div",null,this.props.showStartShift?i.a.createElement(y.Dialog,{open:this.props.showDialog,className:t.dialog,TransitionComponent:mt,maxWidth:"xl"},i.a.createElement(y.DialogTitle,{id:"form-dialog-title"},"Otwarcie zmiany"),i.a.createElement(y.DialogContent,null,i.a.createElement(y.Grid,{container:!0},i.a.createElement(y.Grid,{item:!0,md:9},i.a.createElement(y.Typography,{variant:"h4"},"Aktualna kwota na stanowisku:")),i.a.createElement(y.Grid,{item:!0,md:3},i.a.createElement(y.Typography,{variant:"h4"},this.props.startMoney))),i.a.createElement(y.Grid,{container:!0},i.a.createElement(y.Grid,{item:!0,md:3},i.a.createElement(y.Typography,null,"Wp\u0142ata pocz\u0105tkowa"))),i.a.createElement(y.Grid,{item:!0,md:9},i.a.createElement(y.TextField,{autoFocus:!0,margin:"dense",id:"amount",label:"Kwota pocz\u0105tkowa",type:"number",value:this.state.amount,onKeyDown:function(t){return e.handleEnter(t)},onChange:function(t){return e.handleChangeAmount(t)},fullWidth:!0})),i.a.createElement(y.Grid,{container:!0},i.a.createElement(y.Grid,{item:!0,md:6},i.a.createElement(y.Button,{color:"primary",onClick:function(t){return e.handleSubmitStartShift(t)}},"Zatwierd\u017a")),i.a.createElement(y.Grid,{item:!0,md:6},i.a.createElement(y.Button,{color:"primary",onClick:function(t){return e.handleCancelStartShift(t)}},"Anuluj"))))):i.a.createElement(y.Dialog,{open:this.props.showDialog,className:t.dialog,TransitionComponent:mt},i.a.createElement(y.DialogTitle,{id:"form-dialog-title"},"Zamkni\u0119cie zmiany"),i.a.createElement(y.DialogContent,null,i.a.createElement(y.Grid,{container:!0},i.a.createElement(y.Grid,{item:!0,md:6},i.a.createElement(y.Typography,{variant:"h4"},"Kwota z przeniesienia:")),i.a.createElement(y.Grid,{item:!0,md:6},i.a.createElement(y.Typography,{variant:"h4"},this.props.startMoney))),i.a.createElement(y.Grid,{container:!0},i.a.createElement(y.Grid,{item:!0,md:6},i.a.createElement(y.Typography,{variant:"h4"},"Wp\u0142ata pocz\u0105tkowa:"))),i.a.createElement(y.Grid,{container:!0},i.a.createElement(y.Grid,{item:!0,md:6},i.a.createElement(y.Typography,{variant:"h4"},"Ilo\u015b\u0107 paragon\xf3w:")),i.a.createElement(y.Grid,{item:!0,md:6},i.a.createElement(y.Typography,{variant:"h4"},this.props.numberOfReceipts))),i.a.createElement(y.Grid,{container:!0},i.a.createElement(y.Grid,{item:!0,md:6},i.a.createElement(y.Typography,{variant:"h4"},"Ilo\u015b\u0107 anulowanych paragon\xf3w:")),i.a.createElement(y.Grid,{item:!0,md:6},i.a.createElement(y.Typography,{variant:"h4"},this.props.cancelledReceiptsCount))),i.a.createElement(y.Grid,{container:!0},i.a.createElement(y.Grid,{item:!0,md:6},i.a.createElement(y.Typography,{variant:"h4"},"Ilo\u015b\u0107 anulowanych pozycji:")),i.a.createElement(y.Grid,{item:!0,md:6},i.a.createElement(y.Typography,{variant:"h4"},this.props.removedItemsCount))),i.a.createElement(y.Grid,{container:!0},i.a.createElement(y.Grid,{item:!0,md:6},i.a.createElement(y.Typography,{variant:"h4"},"Sprzeda\u017c:")),i.a.createElement(y.Grid,{item:!0,md:6},i.a.createElement(y.Typography,{variant:"h4"},this.props.sales))),i.a.createElement(y.Grid,{container:!0},i.a.createElement(y.Grid,{item:!0,md:3},i.a.createElement(y.Typography,{variant:"h4"},"Wp\u0142ata pocz\u0105tkowa"))),i.a.createElement(y.Grid,{container:!0},i.a.createElement(y.Grid,{item:!0,md:6},i.a.createElement(y.Typography,{variant:"h4"},"Pozostaje:"))),i.a.createElement(y.Grid,{container:!0},i.a.createElement(y.Grid,{item:!0,md:6},i.a.createElement(y.Button,{color:"primary",onClick:function(t){return e.handleSubmitCloseShift(t)}},"Zamknij zmian\u0119")),i.a.createElement(y.Grid,{item:!0,md:6},i.a.createElement(y.Button,{color:"primary",onClick:function(t){return e.handleCancelCloseShift(t)}},"Anuluj"))))))}},{key:"handleEnter",value:function(e){"Enter"===e.key&&(e.preventDefault(),this.handleSubmitStartShift())}},{key:"handleChangeAmount",value:function(e){this.setState({amount:e.target.value})}},{key:"handleCancelStartShift",value:function(e){this.props.startShiftShowCancel()}},{key:"handleSubmitStartShift",value:function(e){this.props.startShiftSubmit(this.props.id,Number(this.state.amount))}},{key:"handleSubmitCloseShift",value:function(e){this.props.endShiftSubmit()}},{key:"handleCancelCloseShift",value:function(e){this.props.endShiftShowCancel()}}]),t}(i.a.Component),bt={startShift:fe,endShiftShow:Ee,endShiftSubmit:ve,endShiftShowCancel:Oe,startShiftSubmit:ye,startShiftShowCancel:ge},yt=ht()(Object(b.withStyles)(function(e){return Object(b.createStyles)({dialog:{minWidth:1e3}})}),Object(E.b)(function(e){return Object(f.a)({},e.shift)},bt))(ft),gt=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={name:""},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"handlePickProduct",value:function(){this.props.addItemToReceipt(this.state.name)}},{key:"handleChange",value:function(e){var t=this;return function(a){if("Enter"!==a.key)return t.setState(Object(m.a)({},e,a.target.value));t.handlePickProduct()}}},{key:"render",value:function(){var e=this,t=this.props.classes||{};return i.a.createElement(y.Grid,{container:!0},i.a.createElement(y.Grid,{item:!0,md:8},i.a.createElement(y.TextField,{fullWidth:!0,id:"standard-name",label:"Dodaj produkt",variant:"outlined",className:t.textField,InputProps:{className:t.inputField},InputLabelProps:{className:t.label},value:this.state.name,onKeyPress:function(t){return e.handleEnterKey(t)},onChange:function(t){return e.handleEanChange(t)},margin:"normal"})))}},{key:"handleEnterKey",value:function(e){"Enter"===e.key&&(e.preventDefault(),this.handlePickProduct())}},{key:"handleEanChange",value:function(e){this.setState(Object(m.a)({},"name",e.target.value))}}]),t}(i.a.Component),Et={addItemToReceipt:K},Ot=Object(g.a)(Object(b.withStyles)(function(e){return Object(b.createStyles)({textField:{marginLeft:4*e.spacing.unit,marginTop:4*e.spacing.unit,marginBottom:4*e.spacing.unit},inputField:{fontSize:e.typography.h4.fontSize},label:{fontSize:e.typography.h4.fontSize}})}),Object(E.b)(function(){return{}},Et))(gt),vt=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.classes;return i.a.createElement("div",null,i.a.createElement(y.AppBar,{position:"static",color:"primary"},i.a.createElement(y.Toolbar,{variant:"dense"},i.a.createElement(y.Typography,{variant:"h6",color:"inherit"},"Biovert POS"))),i.a.createElement("div",{className:e.layout},i.a.createElement(y.Paper,{className:e.paper},i.a.createElement(pt,null)),i.a.createElement(y.Paper,{className:e.paper},i.a.createElement(ae,null)),i.a.createElement(y.Paper,{className:e.paper},i.a.createElement(Ot,null)),i.a.createElement(yt,null)))}}]),t}(i.a.Component),jt=Object(b.withStyles)(function(e){return Object(b.createStyles)({layout:Object(m.a)({width:"auto",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit,marginTop:3*e.spacing.unit},e.breakpoints.up(1100+3*e.spacing.unit*2),{marginLeft:2*e.spacing.unit,marginRight:2*e.spacing.unit}),divider:{marginTop:2*e.spacing.unit},paper:{marginBottom:2*e.spacing.unit}})})(vt),St=(a(5753),a(5754),a(53)),Ct=a(264),wt=a.n(Ct),Tt=a(265),kt=Object(St.c)({payment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T(Xe):return Object(f.a)({},e,t.payload.data,{showPayDialog:!0});case T(tt):case et:return Object(f.a)({},e,{showPayDialog:!1})}return e},receipt:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:var a=e.items.find(function(t){return t.id==e.selectedReceiptItem}),n=a?a.quantity:1;return Object(f.a)({},e,{showQuantityDialog:!0,selectedReceiptItemQuantity:n});case F:return Object(f.a)({},k);case N:return Object(f.a)({},e,{showReceiptCancelDialog:!0});case W:return Object(f.a)({},e,{showReceiptCancelDialog:!1});case L:return Object(f.a)({},e,{showQuantityDialog:!1});case z:return Object(f.a)({},e,{selectedReceiptItem:t.payload});case T(D):return Object(f.a)({},k);case T(R):return Object(f.a)({},e,t.payload.data);case T(P):var i=(r=t.payload.data).items&&r.items.length>0?r.items[r.items.length-1].id:null;return Object(f.a)({},e,t.payload.data,{selectedReceiptItem:i});case T(x):return Object(f.a)({},e,t.payload.data,{showQuantityDialog:!1});case T(G):case T(I):var r;return i=(r=t.payload.data).items&&r.items.length>0?r.items[r.items.length-1].id:null,Object(f.a)({},e,t.payload.data,{selectedReceiptItem:i})}return e},product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case De+"_"+C.b:return Object(f.a)({},e,{isLoading:!0});case T(De):return Object(f.a)({},e,{products:t.payload.data,isLoading:!1});case w(De):return Object(f.a)({},e,{errorMessage:t.payload,isLoading:!1});case Ne:return Object(f.a)({},e,{showProductDialog:!0});case Ae:return Object(f.a)({},e,{showProductDialog:!1});case xe:return Object(f.a)({},e,{showProductDialog:!1,selectedProduct:t.payload})}return e},shift:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T(pe):return Object(f.a)({},e,t.payload.data,{showDialog:!1,canOpenShift:!0});case ue:case he:return Object(f.a)({},e,{showDialog:!1});case T(de):return Object(f.a)({},e,t.payload.data,{canOpenShift:!1,canCloseShift:!0,showDialog:!1});case T(le):var a=t.payload.data;return Object(f.a)({},e,a,{canCloseShift:a.isOpen,canOpenShift:a.isCreated&&!a.isOpen});case w(le):return Object(f.a)({},e,{isOpen:!1,canOpenShift:!0});case T(oe):return Object(f.a)({},e,t.payload.data,{showDialog:!0,showStartShift:!0,showEndShift:!1});case me:return Object(f.a)({},e,{showDialog:!0,showStartShift:!0,showEndShift:!1});case se:return Object(f.a)({},e,{showDialog:!0,showEndShift:!0,showStartShift:!1});default:return e}}}),Gt=function(e){return Object(St.d)(kt,e,Object(St.a)(Object(C.d)(),wt.a,Tt.a))}(),Rt=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes;return i.a.createElement("div",{className:e.root},i.a.createElement(E.a,{store:Gt},i.a.createElement(it.b,{locale:"pl",defaultLocale:"pl"},i.a.createElement(d.a,null,i.a.createElement(h.a,{path:"/",component:jt})))))}}]),t}(n.Component),Pt=Object(b.withStyles)(function(e){return Object(b.createStyles)({root:{flexGrow:1}})})(Rt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var It=Object(b.createMuiTheme)({palette:{primary:{main:"#2E7D32"},secondary:{main:"#FFB300"},error:{main:"#f44336"}}});c.a.render(i.a.createElement(b.MuiThemeProvider,{theme:It},i.a.createElement(Pt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[5473,1,2]]]);
//# sourceMappingURL=main.738244ac.chunk.js.map